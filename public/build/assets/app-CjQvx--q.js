document.addEventListener("DOMContentLoaded",function(){console.log("HR3 System initialized"),l()});function l(){document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("show",function(){const o=e.querySelector("input, select, textarea");o&&setTimeout(()=>o.focus(),100)})}),document.querySelectorAll(".needs-validation").forEach(function(e){e.addEventListener("submit",function(o){e.checkValidity()||(o.preventDefault(),o.stopPropagation()),e.classList.add("was-validated")},!1)})}function d(t){if(t){t.classList.add("loading");const n=t.querySelector(".spinner-border");n&&(n.style.display="inline-block")}}function u(t){if(t){t.classList.remove("loading");const n=t.querySelector(".spinner-border");n&&(n.style.display="none")}}function s(t,n="info",e=5e3){const o=document.getElementById("alert-container")||document.body,i="alert-"+Date.now(),a=`
        <div id="${i}" class="alert alert-${n}" role="alert">
            ${t}
            <button type="button" class="btn-close" onclick="this.parentElement.remove()" aria-label="Close">&times;</button>
        </div>
    `;o.insertAdjacentHTML("afterbegin",a),e>0&&setTimeout(()=>{const r=document.getElementById(i);r&&r.remove()},e)}function c(t,n){confirm(t)&&n()}function f(t,n="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(t)}function m(t,n={}){const e={year:"numeric",month:"short",day:"numeric"};return new Intl.DateTimeFormat("en-US",{...e,...n}).format(new Date(t))}window.ajax={get:function(t,n){fetch(t,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(e=>e.json()).then(e=>n(null,e)).catch(e=>n(e,null))},post:function(t,n,e){fetch(t,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify(n)}).then(o=>o.json()).then(o=>e(null,o)).catch(o=>e(o,null))}};window.HR3={showLoading:d,hideLoading:u,showAlert:s,confirmAction:c,formatCurrency:f,formatDate:m};window.showAlert=s;window.confirmAction=c;
